!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){var n=new Array,a=new Array,r=new Array,o=echarts.init(document.getElementById("main"),"light"),l={title:{text:"",x:"center",y:"5%"},toolbox:{show:!1},tooltip:{trigger:"axis",axisPointer:{animation:!1}},toolbox:{feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},legend:{data:r,y:"12%",x:"80%"},dataZoom:{type:"slider",width:"90%",height:50,handleSize:20,bottom:30},grid:{x:"3%",y:"20%",x2:"5%",y2:"15%",containLabel:!0},xAxis:{data:n},yAxis:{name:"电子杂志销量(本)",type:"value",min:function(e){return parseInt(e.min-.1*(e.max-e.min))},max:function(e){return parseInt(e.max+.1*(e.max-e.min))}},series:[{name:r[0],type:"line",symbol:"none",data:a[0],smooth:!0}],animationEasing:"quadraticIn",animationDurationUpdate:function(e){return 100*e}};function u(){url="http://127.0.0.1:808/api/get",$.post(url).done(function(e){s(e.app[0]),f(e.app[0])})}function s(e){url="http://127.0.0.1:808/api/call",data={app:e,api:"title"},$.post(url,data).done(function(e){o.setOption({title:{text:e.title}})})}function f(e){url="http://127.0.0.1:808/api/call",data={app:e,api:"data"},$.post(url,data).done(function(e){!function(e,t){for(r=e,name_len=r.length,i=0;i<name_len;i++)a[i]=new Array;len=t.length;var l={};if(MAX=1e3,len<MAX)for(i=0;i<len;i++)for(l=t[i],n[i]=l.t,n[i]=n[i].slice(5,n[i].length-3),j=0;j<name_len;j++)a[j][i]=l.d[j];else{for(i=0;i<MAX;i++)for(interval=len/MAX,ii=parseInt(interval*i),ii=ii>len-1?len-1:ii,l=t[ii],n[i]=l.t,n[i]=n[i].slice(5,n[i].length-3),j=0;j<name_len;j++)a[j][i]=l.d[j];for(k=ii+1;k<len;k++){for(l=t[k],n[i]=l.t,n[i]=n[i].slice(5,n[i].length-3),j=0;j<name_len;j++)a[j][i]=l.d[j];i++}}var u=new Array;for(i=0;i<name_len;i++)u[i]={type:"line",symbol:"none",name:r[i],data:a[i],smooth:!0};var s={xAxis:{data:n},legend:{data:r},series:u};o.setOption(s)}(e.names,e.data)})}o.setOption(l),window.onresize=function(){o.resize()},self.setInterval(function(){u()},3e4),u()}]);